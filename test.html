<!DOCTYPE html>
<html>
<head>
    <title>Event Heatmap</title>
    <style>
		body { margin : 0}
        #map {
            height: 100vh;
            width: 100vw;
        }
        .loading {
            text-align: center;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <script>
        let map, heatmap,datasetLayer;

        async function initMap() {
            // Create the map centered on Sydney
            map = L.map('map').setView([-33.8688, 151.2093 ], 13);
            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom : 19}).addTo(map);

            const srcPins = [
 {
   "lat": -33.8842371,
   "lon": 151.2020199,
   "count": 2
 },
 {
   "lat": -34.07271,
   "lon": 150.8089672,
   "count": 3
 },
 {
   "lat": -33.6354296,
   "lon": 151.3285903,
   "count": 29
 },
 {
   "lat": -33.8882368,
   "lon": 151.1939855,
   "count": 1
 },
 {
   "lat": -33.9036942,
   "lon": 151.1657638,
   "count": 3
 },
 {
   "lat": -33.893997,
   "lon": 151.2241978,
   "count": 66
 },
 {
   "lat": -33.8857645,
   "lon": 151.1748266,
   "count": 1
 },
 {
   "lat": -33.84493,
   "lon": 151.0658257,
   "count": 3
 },
 {
   "lat": -33.9689264,
   "lon": 151.2536294,
   "count": 1
 },
 {
   "lat": -33.9118249,
   "lon": 151.2703432,
   "count": 1
 },
 {
   "lat": -33.8663058,
   "lon": 151.2132437,
   "count": 2
 },
 {
   "lat": -33.8465996,
   "lon": 151.0680946,
   "count": 7
 },
 {
   "lat": -33.8686139,
   "lon": 151.2033051,
   "count": 1
 },
 {
   "lat": -33.8891252,
   "lon": 151.2005409,
   "count": 1
 },
 {
   "lat": -33.7533803,
   "lon": 151.2964328,
   "count": 2
 },
 {
   "lat": -33.8857988,
   "lon": 151.2075149,
   "count": 6
 },
 {
   "lat": -33.8778487,
   "lon": 151.2116505,
   "count": 6
 },
 {
   "lat": -33.8845393,
   "lon": 151.1987319,
   "count": 42
 },
 {
   "lat": -33.9153495,
   "lon": 151.1620539,
   "count": 3
 },
 {
   "lat": -33.8724986,
   "lon": 151.2019182,
   "count": 2
 },
 {
   "lat": -33.9058925,
   "lon": 151.1667881,
   "count": 1
 },
 {
   "lat": -33.8919009,
   "lon": 151.2008303,
   "count": 5
 },
 {
   "lat": -33.9057119,
   "lon": 151.1652176,
   "count": 161
 },
 {
   "lat": -33.9057119,
   "lon": 151.1652176,
   "count": 7
 },
 {
   "lat": -33.8949349,
   "lon": 151.1575933,
   "count": 1
 },
 {
   "lat": -33.899021,
   "lon": 151.1873179,
   "count": 3
 },
 {
   "lat": -33.892802,
   "lon": 151.203134,
   "count": 6
 },
 {
   "lat": -33.8070955,
   "lon": 151.0019648,
   "count": 6
 },
 {
   "lat": -33.806468,
   "lon": 151.0018102,
   "count": 1
 },
 {
   "lat": -33.8877942,
   "lon": 151.201297,
   "count": 78
 },
 {
   "lat": -33.8878033,
   "lon": 151.2012996,
   "count": 35
 },
 {
   "lat": -33.9124015,
   "lon": 151.1607908,
   "count": 96
 },
 {
   "lat": -34.0549886,
   "lon": 151.1516205,
   "count": 60
 },
 {
   "lat": -33.8155731,
   "lon": 151.0044296,
   "count": 2
 },
 {
   "lat": -33.862791,
   "lon": 151.1689165,
   "count": 37
 },
 {
   "lat": -33.9099638,
   "lon": 151.1647663,
   "count": 1
 },
 {
   "lat": -33.7954294,
   "lon": 151.1789355,
   "count": 2
 },
 {
   "lat": -33.8945569,
   "lon": 151.2272222,
   "count": 1
 },
 {
   "lat": -33.9126835,
   "lon": 151.2427054,
   "count": 3
 },
 {
   "lat": -33.888258,
   "lon": 151.1989696,
   "count": 5
 },
 {
   "lat": -33.8756831,
   "lon": 151.2109423,
   "count": 1
 },
 {
   "lat": -33.8990193,
   "lon": 151.1742445,
   "count": 106
 },
 {
   "lat": -33.9058598,
   "lon": 151.1802885,
   "count": 1
 },
 {
   "lat": -33.8726451,
   "lon": 151.215562,
   "count": 1
 },
 {
   "lat": -33.8990651,
   "lon": 151.1738367,
   "count": 47
 },
 {
   "lat": -33.874129,
   "lon": 151.1987267,
   "count": 34
 },
 {
   "lat": -33.874129,
   "lon": 151.1987267,
   "count": 1
 },
 {
   "lat": -33.8596954,
   "lon": 151.2090603,
   "count": 5
 },
 {
   "lat": -33.9021955,
   "lon": 151.1597666,
   "count": 2
 },
 {
   "lat": -33.8070736,
   "lon": 151.2607011,
   "count": 2
 },
 {
   "lat": -33.9072144,
   "lon": 151.1645369,
   "count": 12
 },
 {
   "lat": -33.8933278,
   "lon": 151.1832889,
   "count": 9
 },
 {
   "lat": -33.8790019,
   "lon": 151.220313,
   "count": 1
 },
 {
   "lat": -33.8990625,
   "lon": 151.1734913,
   "count": 141
 },
 {
   "lat": -33.8836209,
   "lon": 151.200918,
   "count": 6
 },
 {
   "lat": -33.8455494,
   "lon": 151.0611459,
   "count": 12
 },
 {
   "lat": -33.890457,
   "lon": 151.1763605,
   "count": 3
 },
 {
   "lat": -33.8556126,
   "lon": 151.2059957,
   "count": 2
 },
 {
   "lat": -33.8814866,
   "lon": 151.1570354,
   "count": 2
 },
 {
   "lat": -33.8894249,
   "lon": 151.1983378,
   "count": 89
 },
 {
   "lat": -33.8990717,
   "lon": 151.1731027,
   "count": 100
 },
 {
   "lat": -33.6811649,
   "lon": 151.3036196,
   "count": 1
 },
 {
   "lat": -33.9644881,
   "lon": 151.1021159,
   "count": 1
 },
 {
   "lat": -33.9070501,
   "lon": 151.1531547,
   "count": 10
 },
 {
   "lat": -33.9132094,
   "lon": 151.1783779,
   "count": 38
 },
 {
   "lat": -33.5976372,
   "lon": 150.7531444,
   "count": 3
 },
 {
   "lat": -33.9070501,
   "lon": 151.1531547,
   "count": 41
 },
 {
   "lat": -33.9045744,
   "lon": 151.1728022,
   "count": 35
 },
 {
   "lat": -33.7006215,
   "lon": 150.9282198,
   "count": 2
 },
 {
   "lat": -33.8841473,
   "lon": 151.1968101,
   "count": 1
 },
 {
   "lat": -33.8747765,
   "lon": 151.2236672,
   "count": 2
 },
 {
   "lat": -33.912273,
   "lon": 151.1636162,
   "count": 1
 },
 {
   "lat": -33.7790252,
   "lon": 151.2858142,
   "count": 1
 },
 {
   "lat": -33.8159854,
   "lon": 151.0039947,
   "count": 1
 },
 {
   "lat": -33.8901856,
   "lon": 151.1268937,
   "count": 1
 },
 {
   "lat": -33.8922255,
   "lon": 151.2007772,
   "count": 38
 },
 {
   "lat": -33.869151,
   "lon": 151.2049802,
   "count": 10
 },
 {
   "lat": -33.8944777,
   "lon": 151.1996124,
   "count": 8
 },
 {
   "lat": -33.8806103,
   "lon": 151.1878551,
   "count": 1
 },
 {
   "lat": -33.9007467,
   "lon": 151.1289398,
   "count": 1
 },
 {
   "lat": -33.8784225,
   "lon": 151.236868,
   "count": 1
 },
 {
   "lat": -33.8833505,
   "lon": 151.1821719,
   "count": 3
 },
 {
   "lat": -33.8443038,
   "lon": 151.0620838,
   "count": 46
 },
 {
   "lat": -33.8866205,
   "lon": 151.2009837,
   "count": 1
 },
 {
   "lat": -33.8673329,
   "lon": 151.2119789,
   "count": 1
 },
 {
   "lat": -33.8950514,
   "lon": 151.1869553,
   "count": 1
 },
 {
   "lat": -33.8993112,
   "lon": 151.1717194,
   "count": 20
 },
 {
   "lat": -33.8990483,
   "lon": 151.171311,
   "count": 59
 },
 {
   "lat": -33.9042176,
   "lon": 151.168131,
   "count": 103
 },
 {
   "lat": -33.8670337,
   "lon": 151.2078851,
   "count": 33
 },
 {
   "lat": -33.922012,
   "lon": 151.249882,
   "count": 3
 },
 {
   "lat": -33.8573086,
   "lon": 151.2145962,
   "count": 52
 },
 {
   "lat": -33.8796032,
   "lon": 151.2106,
   "count": 11
 },
 {
   "lat": -33.8694656,
   "lon": 151.1991912,
   "count": 1
 },
 {
   "lat": -33.8770279,
   "lon": 151.2129571,
   "count": 52
 },
 {
   "lat": -33.7543375,
   "lon": 151.2851641,
   "count": 3
 },
 {
   "lat": -33.6764569,
   "lon": 151.3058645,
   "count": 1
 },
 {
   "lat": -33.8887298,
   "lon": 151.2146475,
   "count": 6
 },
 {
   "lat": -33.8995805,
   "lon": 151.170703,
   "count": 5
 },
 {
   "lat": -34.0510995,
   "lon": 150.8282184,
   "count": 1
 },
 {
   "lat": -33.9113063,
   "lon": 151.1665605,
   "count": 1
 },
 {
   "lat": -33.9205863,
   "lon": 151.2566058,
   "count": 1
 },
 {
   "lat": -33.8875215,
   "lon": 151.2110795,
   "count": 1
 },
 {
   "lat": -33.9008602,
   "lon": 151.2537178,
   "count": 12
 },
 {
   "lat": -33.87132,
   "lon": 151.1947058,
   "count": 1
 },
 {
   "lat": -33.8846446,
   "lon": 151.1950475,
   "count": 148
 },
 {
   "lat": -33.9148389,
   "lon": 151.1643007,
   "count": 55
 },
 {
   "lat": -33.8850644,
   "lon": 151.1957611,
   "count": 7
 },
 {
   "lat": -33.7613255,
   "lon": 151.2796563,
   "count": 1
 },
 {
   "lat": -33.8747989,
   "lon": 151.2239339,
   "count": 1
 },
 {
   "lat": -34.0564467,
   "lon": 150.6920723,
   "count": 2
 },
 {
   "lat": -34.0424274,
   "lon": 151.1239872,
   "count": 1
 },
 {
   "lat": -33.8847927,
   "lon": 151.2256329,
   "count": 11
 },
 {
   "lat": -33.8721876,
   "lon": 151.2058977,
   "count": 1
 },
 {
   "lat": -33.9035202,
   "lon": 151.1985652,
   "count": 1
 },
 {
   "lat": -33.8847685,
   "lon": 151.237397,
   "count": 2
 },
 {
   "lat": -33.8749597,
   "lon": 151.2220151,
   "count": 1
 },
 {
   "lat": -33.8941657,
   "lon": 151.1916152,
   "count": 14
 },
 {
   "lat": -33.8852185,
   "lon": 151.2258175,
   "count": 1
 },
 {
   "lat": -33.9214525,
   "lon": 151.2560788,
   "count": 8
 },
 {
   "lat": -33.765696,
   "lon": 151.2733632,
   "count": 1
 },
 {
   "lat": -33.8735407,
   "lon": 151.2084052,
   "count": 1
 },
 {
   "lat": -33.8111805,
   "lon": 151.0334446,
   "count": 2
 },
 {
   "lat": -33.8960352,
   "lon": 151.1801686,
   "count": 1
 },
 {
   "lat": -33.9116303,
   "lon": 151.1549133,
   "count": 1
 },
 {
   "lat": -33.8842628,
   "lon": 151.1931334,
   "count": 3
 },
 {
   "lat": -33.8658398,
   "lon": 151.1763888,
   "count": 11
 },
 {
   "lat": -33.8949669,
   "lon": 151.2687659,
   "count": 16
 },
 {
   "lat": -33.8964221,
   "lon": 151.1798023,
   "count": 109
 },
 {
   "lat": -33.9107531,
   "lon": 151.1562904,
   "count": 210
 },
 {
   "lat": -33.9039906,
   "lon": 151.1819356,
   "count": 1
 },
 {
   "lat": -33.8375277,
   "lon": 151.2320336,
   "count": 1
 },
 {
   "lat": -33.866083,
   "lon": 151.0444797,
   "count": 3
 },
 {
   "lat": -33.601341,
   "lon": 151.0056114,
   "count": 1
 },
 {
   "lat": -33.8972752,
   "lon": 151.1796644,
   "count": 1
 },
 {
   "lat": -33.7974914,
   "lon": 151.2853438,
   "count": 1
 },
 {
   "lat": -33.7537453,
   "lon": 151.285469,
   "count": 2
 },
 {
   "lat": -33.9462055,
   "lon": 151.194787,
   "count": 11
 },
 {
   "lat": -33.713627,
   "lon": 150.3100939,
   "count": 1
 },
 {
   "lat": -33.8803632,
   "lon": 151.2151417,
   "count": 59
 },
 {
   "lat": -33.909386,
   "lon": 151.1542705,
   "count": 3
 },
 {
   "lat": -33.9105261,
   "lon": 151.1552877,
   "count": 2
 },
 {
   "lat": -34.0420839,
   "lon": 151.124197,
   "count": 7
 },
 {
   "lat": -33.8974134,
   "lon": 151.1793504,
   "count": 69
 },
 {
   "lat": -33.8980406,
   "lon": 151.1786924,
   "count": 93
 },
 {
   "lat": -33.8098845,
   "lon": 151.2981499,
   "count": 9
 },
 {
   "lat": -33.7697224,
   "lon": 150.832714,
   "count": 9
 },
 {
   "lat": -33.8664962,
   "lon": 151.2073509,
   "count": 18
 },
 {
   "lat": -33.9126995,
   "lon": 151.1536734,
   "count": 1
 },
 {
   "lat": -33.6097374,
   "lon": 150.8159314,
   "count": 2
 },
 {
   "lat": -33.9125596,
   "lon": 151.1544409,
   "count": 1
 },
 {
   "lat": -33.8695587,
   "lon": 151.204892,
   "count": 5
 },
 {
   "lat": -33.8783515,
   "lon": 151.2160118,
   "count": 2
 },
 {
   "lat": -34.0436736,
   "lon": 151.1230254,
   "count": 3
 },
 {
   "lat": -33.8875841,
   "lon": 151.1593683,
   "count": 140
 },
 {
   "lat": -33.8684052,
   "lon": 151.2066675,
   "count": 1
 },
 {
   "lat": -33.8092321,
   "lon": 151.0048393,
   "count": 1
 },
 {
   "lat": -33.8832542,
   "lon": 151.2164531,
   "count": 1
 },
 {
   "lat": -33.8399566,
   "lon": 151.2070311,
   "count": 2
 },
 {
   "lat": -33.8875587,
   "lon": 151.1209376,
   "count": 3
 },
 {
   "lat": -34.0440473,
   "lon": 151.1231378,
   "count": 1
 },
 {
   "lat": -33.8652095,
   "lon": 151.2066859,
   "count": 1
 },
 {
   "lat": -33.8862004,
   "lon": 151.1991374,
   "count": 89
 },
 {
   "lat": -33.8797588,
   "lon": 151.1893755,
   "count": 1
 },
 {
   "lat": -33.6547847,
   "lon": 151.3211349,
   "count": 3
 },
 {
   "lat": -33.877846,
   "lon": 151.213932,
   "count": 206
 },
 {
   "lat": -33.8280394,
   "lon": 151.2297513,
   "count": 1
 },
 {
   "lat": -33.9028898,
   "lon": 151.1436402,
   "count": 203
 },
 {
   "lat": -33.8777447,
   "lon": 151.2077344,
   "count": 10
 },
 {
   "lat": -33.9154976,
   "lon": 151.1673951,
   "count": 1
 },
 {
   "lat": -33.8996651,
   "lon": 151.1776339,
   "count": 31
 },
 {
   "lat": -33.7539012,
   "lon": 150.6980831,
   "count": 41
 },
 {
   "lat": -33.8688418,
   "lon": 151.2161488,
   "count": 13
 },
 {
   "lat": -33.7662517,
   "lon": 151.2735033,
   "count": 8
 },
 {
   "lat": -33.8840845,
   "lon": 151.1942237,
   "count": 5
 },
 {
   "lat": -33.7985558,
   "lon": 151.2859255,
   "count": 1
 },
 {
   "lat": -33.823754,
   "lon": 151.1243846,
   "count": 4
 },
 {
   "lat": -33.8928176,
   "lon": 151.1863909,
   "count": 98
 },
 {
   "lat": -33.889056,
   "lon": 151.2250442,
   "count": 5
 },
 {
   "lat": -33.8986482,
   "lon": 151.1767119,
   "count": 53
 },
 {
   "lat": -33.8880817,
   "lon": 151.158939,
   "count": 1
 },
 {
   "lat": -33.8566875,
   "lon": 151.2151875,
   "count": 3
 },
 {
   "lat": -33.878801,
   "lon": 151.2099833,
   "count": 5
 },
 {
   "lat": -33.9064212,
   "lon": 151.1628711,
   "count": 7
 },
 {
   "lat": -33.873183,
   "lon": 151.2061462,
   "count": 2
 },
 {
   "lat": -33.8708086,
   "lon": 151.2074936,
   "count": 25
 },
 {
   "lat": -33.892302,
   "lon": 151.2165052,
   "count": 1
 },
 {
   "lat": -33.7720557,
   "lon": 150.9362829,
   "count": 3
 },
 {
   "lat": -33.9185332,
   "lon": 151.0310995,
   "count": 1
 },
 {
   "lat": -33.753124,
   "lon": 150.856194,
   "count": 3
 },
 {
   "lat": -33.878783,
   "lon": 151.200329,
   "count": 1
 },
 {
   "lat": -33.9035825,
   "lon": 151.1429083,
   "count": 67
 },
 {
   "lat": -33.8831487,
   "lon": 151.1914902,
   "count": 42
 },
 {
   "lat": -33.894546,
   "lon": 151.2060574,
   "count": 1
 },
 {
   "lat": -34.0512801,
   "lon": 150.8347977,
   "count": 1
 },
 {
   "lat": -33.8777164,
   "lon": 151.1983603,
   "count": 1
 },
 {
   "lat": -33.8762037,
   "lon": 151.2059933,
   "count": 14
 },
 {
   "lat": -33.9043683,
   "lon": 151.1800434,
   "count": 2
 },
 {
   "lat": -33.8905631,
   "lon": 151.2127903,
   "count": 1
 },
 {
   "lat": -33.8876525,
   "lon": 151.2151137,
   "count": 1
 },
 {
   "lat": -34.0860113,
   "lon": 150.800694,
   "count": 1
 },
 {
   "lat": -33.9035363,
   "lon": 151.1422767,
   "count": 18
 },
 {
   "lat": -33.9038438,
   "lon": 151.180276,
   "count": 53
 },
 {
   "lat": -34.0344449,
   "lon": 151.1012372,
   "count": 5
 },
 {
   "lat": -33.7513487,
   "lon": 150.6901212,
   "count": 1
 },
 {
   "lat": -33.9058669,
   "lon": 151.1807404,
   "count": 68
 },
 {
   "lat": -33.9099446,
   "lon": 151.1636612,
   "count": 30
 },
 {
   "lat": -33.5378163,
   "lon": 151.2424848,
   "count": 1
 },
 {
   "lat": -33.8792077,
   "lon": 151.2106487,
   "count": 3
 },
 {
   "lat": -33.8960967,
   "lon": 151.1797545,
   "count": 2
 },
 {
   "lat": -33.8969989,
   "lon": 151.1796999,
   "count": 79
 },
 {
   "lat": -33.8628208,
   "lon": 151.2099128,
   "count": 66
 },
 {
   "lat": -33.8730607,
   "lon": 151.2096951,
   "count": 22
 },
 {
   "lat": -33.87588,
   "lon": 151.2064679,
   "count": 114
 },
 {
   "lat": -33.8805705,
   "lon": 151.20047,
   "count": 31
 },
 {
   "lat": -33.8879484,
   "lon": 151.1781735,
   "count": 71
 },
 {
   "lat": -33.8757593,
   "lon": 151.2067759,
   "count": 40
 },
 {
   "lat": -33.854286,
   "lon": 150.9420412,
   "count": 1
 },
 {
   "lat": -33.9053854,
   "lon": 151.18111,
   "count": 208
 },
 {
   "lat": -33.9616923,
   "lon": 151.0908228,
   "count": 2
 },
 {
   "lat": -33.4715575,
   "lon": 151.4365023,
   "count": 1
 },
 {
   "lat": -33.8887956,
   "lon": 151.2409055,
   "count": 1
 },
 {
   "lat": -33.8701089,
   "lon": 151.2263898,
   "count": 1
 },
 {
   "lat": -33.8862355,
   "lon": 151.2725303,
   "count": 13
 },
 {
   "lat": -33.79735,
   "lon": 151.2872606,
   "count": 80
 },
 {
   "lat": -33.8217902,
   "lon": 151.1988156,
   "count": 1
 },
 {
   "lat": -33.8683338,
   "lon": 151.2057218,
   "count": 2
 },
 {
   "lat": -33.8858076,
   "lon": 151.1749304,
   "count": 2
 },
 {
   "lat": -33.7970224,
   "lon": 151.2877845,
   "count": 3
 },
 {
   "lat": -33.9122644,
   "lon": 151.1884338,
   "count": 49
 },
 {
   "lat": -33.8930044,
   "lon": 151.1522637,
   "count": 116
 },
 {
   "lat": -33.8744672,
   "lon": 151.2157539,
   "count": 7
 },
 {
   "lat": -33.8828496,
   "lon": 151.1704981,
   "count": 2
 },
 {
   "lat": -33.8885467,
   "lon": 151.1600846,
   "count": 6
 },
 {
   "lat": -33.7785887,
   "lon": 150.9196872,
   "count": 1
 },
 {
   "lat": -33.8793612,
   "lon": 151.2110565,
   "count": 40
 },
 {
   "lat": -33.8825939,
   "lon": 151.1705041,
   "count": 43
 },
 {
   "lat": -33.8760104,
   "lon": 151.2155303,
   "count": 1
 },
 {
   "lat": -33.7673638,
   "lon": 151.2556558,
   "count": 9
 },
 {
   "lat": -33.8871231,
   "lon": 151.1989606,
   "count": 15
 },
 {
   "lat": -33.773222,
   "lon": 150.8108578,
   "count": 2
 },
 {
   "lat": -33.8874303,
   "lon": 151.1986107,
   "count": 59
 },
 {
   "lat": -33.8837293,
   "lon": 151.202229,
   "count": 45
 },
 {
   "lat": -33.8762473,
   "lon": 151.1616931,
   "count": 3
 },
 {
   "lat": -33.8980282,
   "lon": 151.1951959,
   "count": 2
 },
 {
   "lat": -33.8868884,
   "lon": 151.1771723,
   "count": 21
 },
 {
   "lat": -33.9105475,
   "lon": 151.1641657,
   "count": 93
 },
 {
   "lat": -33.8713698,
   "lon": 151.2185144,
   "count": 6
 },
 {
   "lat": -33.8876387,
   "lon": 151.1685179,
   "count": 2
 },
 {
   "lat": -33.7501509,
   "lon": 151.2900587,
   "count": 11
 },
 {
   "lat": -33.8697275,
   "lon": 151.1976214,
   "count": 4
 },
 {
   "lat": -33.8858949,
   "lon": 151.1793178,
   "count": 1
 },
 {
   "lat": -33.9025279,
   "lon": 151.1624527,
   "count": 1
 },
 {
   "lat": -33.8565361,
   "lon": 151.2149964,
   "count": 33
 },
 {
   "lat": -33.8947746,
   "lon": 151.2270446,
   "count": 81
 },
 {
   "lat": -33.8837537,
   "lon": 151.2014109,
   "count": 6
 },
 {
   "lat": -33.7025617,
   "lon": 151.1008712,
   "count": 2
 },
 {
   "lat": -33.8902931,
   "lon": 151.1907025,
   "count": 1
 },
 {
   "lat": -33.7267296,
   "lon": 150.9972817,
   "count": 1
 },
 {
   "lat": -33.901609,
   "lon": 151.2429763,
   "count": 2
 },
 {
   "lat": -33.884581,
   "lon": 151.2006823,
   "count": 1
 },
 {
   "lat": -33.7414218,
   "lon": 150.782868,
   "count": 1
 },
 {
   "lat": -33.8708464,
   "lon": 151.20733,
   "count": 1
 },
 {
   "lat": -33.8692676,
   "lon": 151.2204582,
   "count": 1
 },
 {
   "lat": -33.8965859,
   "lon": 151.17879,
   "count": 1
 },
 {
   "lat": -33.9012216,
   "lon": 151.1699853,
   "count": 1
 },
 {
   "lat": -33.8612337,
   "lon": 151.2211359,
   "count": 1
 },
 {
   "lat": -33.909925,
   "lon": 151.154117,
   "count": 2
 },
 {
   "lat": -33.8927851,
   "lon": 151.2257499,
   "count": 2
 },
 {
   "lat": -33.8798338,
   "lon": 151.2154774,
   "count": 4
 },
 {
   "lat": -33.902461,
   "lon": 151.202004,
   "count": 2
 },
 {
   "lat": -33.7646661,
   "lon": 151.2714307,
   "count": 4
 },
 {
   "lat": -33.815476,
   "lon": 151.0048633,
   "count": 3
 },
 {
   "lat": -33.9255504,
   "lon": 150.9221135,
   "count": 1
 },
 {
   "lat": -33.815476,
   "lon": 151.0048633,
   "count": 3
 },
 {
   "lat": -33.9086291,
   "lon": 151.1548847,
   "count": 3
 },
 {
   "lat": -33.9095448,
   "lon": 151.1542978,
   "count": 1
 },
 {
   "lat": -33.9066166,
   "lon": 151.1458162,
   "count": 1
 },
 {
   "lat": -33.8553519,
   "lon": 151.1832525,
   "count": 1
 },
 {
   "lat": -33.8818506,
   "lon": 151.156835,
   "count": 1
 },
 {
   "lat": -33.7617633,
   "lon": 150.8615592,
   "count": 2
 },
 {
   "lat": -33.8157858,
   "lon": 151.0042291,
   "count": 8
 },
 {
   "lat": -33.8548392,
   "lon": 151.2069532,
   "count": 5
 },
 {
   "lat": -33.8748137,
   "lon": 151.224013,
   "count": 1
 },
 {
   "lat": -33.7828484,
   "lon": 151.2736373,
   "count": 1
 },
 {
   "lat": -33.8928934,
   "lon": 151.2048428,
   "count": 1
 },
 {
   "lat": -33.8110939,
   "lon": 151.0043559,
   "count": 2
 },
 {
   "lat": -33.9374938,
   "lon": 151.2381616,
   "count": 37
 },
 {
   "lat": -33.780527,
   "lon": 151.2402994,
   "count": 5
 },
 {
   "lat": -33.912053,
   "lon": 151.1598113,
   "count": 1
 },
 {
   "lat": -33.87108,
   "lon": 151.214479,
   "count": 3
 },
 {
   "lat": -33.8555061,
   "lon": 151.206998,
   "count": 24
 },
 {
   "lat": -33.7533654,
   "lon": 150.6947077,
   "count": 1
 },
 {
   "lat": -33.8687698,
   "lon": 151.2020475,
   "count": 8
 },
 {
   "lat": -33.8683329,
   "lon": 151.1949875,
   "count": 1
 },
 {
   "lat": -33.8756884,
   "lon": 151.2017266,
   "count": 7
 },
 {
   "lat": -33.816268,
   "lon": 151.002474,
   "count": 3
 },
 {
   "lat": -33.770701,
   "lon": 150.9100029,
   "count": 1
 },
 {
   "lat": -33.9202353,
   "lon": 151.1408517,
   "count": 3
 },
 {
   "lat": -33.8862956,
   "lon": 151.1878017,
   "count": 62
 }
];
let grp = L.markerClusterGroup();
srcPins.forEach((el) => {
    for (let i = 0; i < el.count; i++) {
        grp.addLayer(L.marker([el.lat, el.lon ]));
    };
})
map.addLayer(grp);
        }

    document.addEventListener("DOMContentLoaded", function(arg) {
        initMap();
    });

</script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" crossorigin="" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" crossorigin="" />
<style>
    .marker-cluster-small {
	background-color: rgba(181, 226, 140, 0.6);
	}
.marker-cluster-small div {
	background-color: rgba(110, 204, 57, 0.6);
	}

.marker-cluster-medium {
	background-color: rgba(241, 211, 87, 0.6);
	}
.marker-cluster-medium div {
	background-color: rgba(240, 194, 12, 0.6);
	}

.marker-cluster-large {
	background-color: rgba(253, 156, 115, 0.6);
	}
.marker-cluster-large div {
	background-color: rgba(241, 128, 23, 0.6);
	}

	/* IE 6-8 fallback colors */
.leaflet-oldie .marker-cluster-small {
	background-color: rgb(181, 226, 140);
	}
.leaflet-oldie .marker-cluster-small div {
	background-color: rgb(110, 204, 57);
	}

.leaflet-oldie .marker-cluster-medium {
	background-color: rgb(241, 211, 87);
	}
.leaflet-oldie .marker-cluster-medium div {
	background-color: rgb(240, 194, 12);
	}

.leaflet-oldie .marker-cluster-large {
	background-color: rgb(253, 156, 115);
	}
.leaflet-oldie .marker-cluster-large div {
	background-color: rgb(241, 128, 23);
}

.marker-cluster {
	background-clip: padding-box;
	border-radius: 20px;
	}
.marker-cluster div {
	width: 50px;
	height: 30px;
	margin-left: 5px;
	margin-top: 5px;

	text-align: center;
	border-radius: 15px;
	font: 16px "Instrument Sans", Arial, Helvetica, sans-serif;
    font-weight: bold;
	}
.marker-cluster span {
	line-height: 30px;
	}
</style>
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>


</body>
</html>